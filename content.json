{"pages":[{"title":"tags","text":"","link":"/tags/index.html"},{"title":"文章分类","text":"","link":"/categories/index.html"},{"title":"","text":"WHO AM IHacker一个默默无闻的“渗透测试”学习者，朝着成为更高，更远的方向努力。 当前状态目前主要在挖掘漏洞和学习渗透测试相关的知识，扩宽自己的视野。提高编程能力和漏洞挖掘实战经验是我目前要努力的方向。 关注我GitHub @aqyoung","link":"/about/index.html"}],"posts":[{"title":"如何进行快速有效的“信息收集”","text":"0x0 背景信息收集对于渗透测试整个过程来说是非常重要的，能否挖掘到漏洞很大一部分取决于信息的收集是否全面，只有想尽办法收集到更多信息，你挖掘到漏洞的可能性越大，本文章主要对目前较为经典与流行的信息收集的一些手段进行总结。 0x1 信息收集方法一、域名信息收集1、使用各大whois网站查询 [阿里云whois]https://whois.aliyun.com/[whois365]https://www.whois365.com/cn/[站长之家]http://whois.chinaz.com/[国外的whois]https://www.whois.com/whois 2、使用kali linux例如:whois qq.com 3、备案信息查询 (国内的网站如果通过whois网站没有查询到太多的信息，可以到备案查询，值得注意的是国外网站是不需要备案的)http://www.beianbeian.com/http://beian.miit.gov.cn/publish/query/indexFirst.action 通过上面的网站我们可以收集到一些基本的信息，需要重点关注的是：联系邮箱，联系电话，注册人，DNS解析服务器这些信息到后面可能会是密码的组成，也可以通过邮箱进行社工测试。 二、子域名信息收集（多种方法结合使用）1、子域名挖掘工具如：Maltego CE、wydomain、subDomainsBrute、dnsmaper、Layer子域名挖掘机。这里推荐两款子域名挖掘的工具:subDomainsBrute可以到github搜索下载到、layer(windows端) 2、搜索引擎挖掘如：在Google中输入site:sina.com 3、第三方网站查询：http:/tool.chinaz.com/subdomain、https://dnsdumpster.com/ 4、证书透明度公开日志枚举：https://crt.sh/、http://censys.io/ 5、其他途径：https://phpinfo.me/domain、http://dns.aizhan.com 三、Web站点信息收集CMS识别工具：1、在线工具 http://whatweb.bugscaner.com/look/ 、 http://www.yunsee.cn/finger.html 2、本地工具 whatweb、御剑web指纹识别程序https://pan.baidu.com/share/link?shareid=437376&amp;uk=3526832374、大禹CMS识别程序 https://github.com/Ms0x0/Dayu 四、端口信息收集1、使用nmap探测。nmap-A-v-T4目标2、使用masscan探测。3、使用在线网站探测http://tool.chinaz.com/port/。 五、敏感信息收集指的是利用搜索引擎搜索目标暴露在互联网上的关联信息。例如：数据库文件、SQL注入、服务器配置信息、甚至是通过Git找到站点泄露源代码、以及Redis等未授权访问、robots.txt等敏感信息Google Hacking语法 Google hacking数据库：https://www.exploit-db.com/google-hacking-database/例如：查询Access数据：filetype:mdb “standard jet” (password | username | user | pass)获取HTTP响应的方法：1、利用工具如：浏览器审计工具、Burpsuite等代理截断工具。2、编写Python脚本requests库参考链接：http:/www.python-requests.org/en/master/import requestsr=requests.get（’目标’）print（r.headers）Github信息泄露Github之邮件配置信息泄露：site:Github.com smtp、site:Github.com smtp@qq.comGithub之数据库信息泄露：site:Github.com sa password、site:Github.com root password、site:Github.com User ID=’sa’；PasswordGithub之svn信息泄露：site:Github.com svn、site:Github.com svn username Github之综合信息泄露：site:Github.com password、site:Github.com ftp ftppassword、site:Github.com 密码、site:Github.com内部 六、真实IP地址收集cdn检测1、通过ping是否存在CDN服务器 例如：ping www.baihe.com 会显示：dhntip2、通过在线ping测试 使用：ping.chinaz.com绕过cdn如果没有使用cdn可以使用ping或者www.ip138.com直接查询如果目标使用CDN，需要绕过CDN来获取真实IP地址。1、内部邮箱源 收集到内部邮箱服务器IP地址2、网站phpinfo文件 phpinfo.php3、分站IP地址，查询子域名 CDN很贵，很有可能分站就不再使用CDN。4、国外访问 https://asm.ca.com/en/ping.php5、查询域名解析记录 https://viewdns.info/ 七、shodan介绍Shodan注册链接：https://account.shodan.io/registerShodan登录链接：https://account.shodan.io/login?continue=https%3A%2F%2Faccount.shodan.io%2F 八、shodan搜索技巧在Explore搜索框中输入webcam进行搜索。通过关键字 port 指定具体端口号。例如:port:22 指定搜索22号端口的主机信息。通过关键字 host指定具体IP地址。例如: host:61.135.169.121 指定探测IP地址主机信息。利用city:城市名指定搜索具体城市的内容。例如： city:hangzhou port:22 九、shodan命令行介绍Shodan获取指定IP地址信息：shodan host ip地址Shodan获取账号信息：利用shodan info 查看自身账户的信息。Shodan获取自身外部IP地址：使用shodan myipShodan检测是否有蜜罐：利用shodan honeyscore 查看是否有蜜罐保护。 十、shodan_Python对于信息收集方式，可以分为以下两类：1、主动信息收集：直接与目标进行交互，通过对交互过程中的信息进行收集。例如：Nmap扫描、Burpsuite站点地图收集等。2、被动信息收集：通过第三方引擎与目标交互，或不予目标交互查询具体数据库，获得目标的信息。例如：Google Hacking、Shodan查询等。1.域名信息收集1、使用各大whois网站查询2、使用kali linux 例如:whois 51cto.com3、备案信息查询2.子域名信息收集（多种方法结合使用）1、子域名挖掘工具如：Maltego CE、wydomain、subDomainsBrute、dnsmaper、Layer子域名挖掘机。2、搜索引擎挖掘如：在Google中输入site:sina.com3、第三方网站查询：http:/tool.chinaz.com/subdomain、https://dnsdumpster.com/4、证书透明度公开日志枚举：https://crt.sh/、http://censys.io/5、其他途径：https://phpinfo.me/domain、http://dns.aizhan.com3.Web站点信息收集CMS识别工具：1、在线工具 http://whatweb.bugscaner.com/look/ 、 http://www.yunsee.cn/finger.html2、本地工具 whatweb、御剑web指纹识别程序https://pan.baidu.com/share/link?shareid=437376&amp;uk=3526832374、大禹CMS识别程序 https://github.com/Ms0x0/Dayu4.端口信息收集1、使用nmap探测。nmap-A-v-T4目标2、使用masscan探测。3、使用在线网站探测http:/tool.chinaz.com/port/。 5.敏感信息收集指的是利用搜索引擎搜索目标暴露在互联网上的关联信息。例如：数据库文件、SQL注入、服务器配置信息、甚至是通过Git找到站点泄露源代码、以及Redis等未授权访问、robots.txt等敏感信息Google Hacking语法 Google hacking数据库：https://www.exploit-db.com/google-hacking-database/例如：查询Access数据：filetype:mdb “standard jet” (password | username | user | pass)获取HTTP响应的方法：1、利用工具如：浏览器审计工具、Burpsuite等代理截断工具。2、编写Python脚本requests库参考链接：http:/www.python-requests.org/en/master/import requestsr=requests.get（’目标’）print（r.headers）Github信息泄露Github之邮件配置信息泄露：site:Github.com smtp、site:Github.com smtp@qq.comGithub之数据库信息泄露：site:Github.com sa password、site:Github.com root password、site:Github.com User ID=’sa’；PasswordGithub之svn信息泄露：site:Github.com svn、site:Github.com svn username Github之综合信息泄露：site:Github.com password、site:Github.com ftp ftppassword、site:Github.com 密码、site:Github.com内部6.真实IP地址收集cdn检测1、通过ping是否存在CDN服务器 例如：ping www.baihe.com 会显示：dhntip2、通过在线ping测试 使用：ping.chinaz.com绕过cdn如果没有使用cdn可以使用ping或者www.ip138.com直接查询如果目标使用CDN，需要绕过CDN来获取真实IP地址。1、内部邮箱源 收集到内部邮箱服务器IP地址2、网站phpinfo文件 phpinfo.php3、分站IP地址，查询子域名 CDN很贵，很有可能分站就不再使用CDN。4、国外访问 https://asm.ca.com/en/ping.php5、查询域名解析记录 https://viewdns.info/7.shodan介绍Shodan注册链接：https://account.shodan.io/registerShodan登录链接：https://account.shodan.io/login?continue=https%3A%2F%2Faccount.shodan.io%2F8.shodan搜索技巧在Explore搜索框中输入webcam进行搜索。通过关键字 port 指定具体端口号。例如:port:22 指定搜索22号端口的主机信息。通过关键字 host指定具体IP地址。例如: host:61.135.169.121 指定探测IP地址主机信息。利用city:城市名指定搜索具体城市的内容。例如： city:hangzhou port:229.shodan命令行介绍Shodan获取指定IP地址信息：shodan host ip地址Shodan获取账号信息：利用shodan info 查看自身账户的信息。Shodan获取自身外部IP地址：使用shodan myipShodan检测是否有蜜罐：利用shodan honeyscore 查看是否有蜜罐保护。","link":"/2019/11/04/%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E5%BF%AB%E9%80%9F%E6%9C%89%E6%95%88%E7%9A%84%E2%80%9C%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E2%80%9D/"}],"tags":[{"name":"信息收集","slug":"信息收集","link":"/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"},{"name":"工具","slug":"工具","link":"/tags/%E5%B7%A5%E5%85%B7/"}],"categories":[{"name":"web安全","slug":"web安全","link":"/categories/web%E5%AE%89%E5%85%A8/"}]}